<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HINTS__4</title>
  </head>
  <body>
    <button id="btn">Get Facts</button>
    <p id="fact"></p>
    <script>
      //async await, promise chains, callback hell
      //sync in js
      //synchronous(synchronous means the code runs in particular sequence of instructions given in the program each instruction waits for the previous instruction to complete its execution)
      //   console.log("one");//instruction mtlb ak kam ko bola ja raha ha
      //   console.log("two");//dosre kam ko bola jaa raha ha mtlb sequence me ho raha ha phle one print hoga fir two print hoga fir three sync me kam ho raha he
      //   console.log("three");
      //   console.log("four");
      //   console.log("five");

      //asynchronous(due to the synchronous programing, some times imp instructions get blocked due to some previous instructions,whic causes a delay in the UI.)
      //asychronous code execution allows to execute next instructions immedately and does not block the flow

      //   function hello() {
      //     console.log("Hello world");
      //   }
      //   hello();
      //   setTimeout(hello, 2000); //timeout 2s=2000ms
      //   setTimeout(hello, 4000); //timeout 2s=2000ms
      //   console.log("one");
      //   console.log("two");
      //   setTimeout(() => {
      //     console.log("Hello world");
      //   }, 2000);
      //   console.log("three");
      //   console.log("four");
      //   console.log("five");

      //callback
      //   function sum(a, b) {
      //     console.log(a + b);
      //   }
      //   function calculator(a, b, sumCallBack) {
      //     sumCallBack(a, b);
      //   }
      //   calculator(1, 2, sum);
      //bestway
      //   function calculator(a, b, sumCallBack) {
      //     sumCallBack(a, b);
      //   }
      //   calculator(1, 2, (a, b) => {
      //     console.log(a + b);
      //   });

      //callback Hell(nasted callbacks stacked below one another forming a pyramid structure(pyramid doom))
      //this style of programing becomes difficult to understand and manage
      //    function getData(dataId) {
      //     setTimeout(() => {
      //         console.log("data", dataId);
      //     }, 2000);
      //    }
      //    getData(1)
      //    getData(2)
      //    getData(3)

      //   function getData(dataId, getNextData) {
      //     setTimeout(() => {
      //       console.log("data", dataId);
      //       if (getNextData) {
      //         getNextData();
      //       }
      //     }, 2000);
      //   }
      //   getData(1, () => {
      //     console.log("getting data 2.....");
      //     getData(2, () => {
      //       console.log("getting data 3.....");
      //       getData(3, () => {
      //         console.log("getting data 4.....");
      //         getData(4, () => {
      //           console.log("getting data 5.....");
      //           getData(5);
      //         });
      //       });
      //     });
      //   }); //ye smjhana boht he mushkill he to asle asko ham callback hell kehty he

      //Promise
      //Promises(promise is for eventual completion of task it is an object in js )
      //it is a solution to callback hell
      //as me function with 2 handlers hoty he 2no callbacks function provide js karta ha
      //   let promise__ = new Promise((resolve, reject) => {
      //       console.log("I am promise");
      //       // resolve("Zaheer Abbas")/// promise is resolve
      //       // reject("Zaheer Abbas with some issues")//promise is rejected
      //   })
      //   // console.log(promise);//print promise
      //  console.log( promise__);

      // function getData(dataId) {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       console.log("data", dataId);
      //       resolve("Succes")
      //       // reject("create some problem")
      //     }, 5000);
      //   });
      // }
      // let finalVal = getData(220)
      // console.log(finalVal); //result anny se phle promise ko khool da ap dekh lain panding hoga
      // console.log(finalVal);//result aa ja fir promise ko dekh lain result succuess hoga

      // const getPromise = () => {
      //   return new Promise((resolve, reject) => {
      //     console.log("i am promise");
      //     resolve("success")
      //     // reject("rejected");
      //   });
      // };
      // let promise_1 = getPromise();
      // promise_1.then((res) => {
      //   console.log("promise was fullfilled", res);
      // });
      // promise_1.catch((err) => {
      //   console.log("promise was unfulilled", err);
      // });

      //promise chain
      // function asyncFun1() {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       console.log("some data_1");
      //       resolve("success");
      //       // reject("reject")
      //     }, 3000);
      //   });
      // }

      // function asyncFun2() {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       console.log("some data_2");
      //       resolve("success");
      //       // reject("reject")
      //     }, 3000);
      //   });
      // }
      // console.log("fetching data1.....");
      // let p_1 = asyncFun1();
      // // console.log(p_1);
      // // console.log(p_1);
      // p_1.then((res) => {
      //   console.log(res);
      //   console.log("fetching data2.....");
      //   let p_2 = asyncFun2();
      //   p_2.then((res) => { //ak then ki ander jab dosra aor 3sra as trah atty rahe ga asko ham promise chaining kehty ha
      //     console.log(res);
      //   });
      // });
      //we write simpe way
      // console.log("fetching data1.....");
      // // console.log(p_1);
      // // console.log(p_1);
      // asyncFun1().then((res) => {
      //   console.log(res);
      //   console.log("fetching data2.....");
      //   asyncFun2().then((res) => { //sime way ak then ki ander jab dosra aor 3sra as trah atty rahe ga asko ham promise chaining kehty ha
      //     console.log(res);
      //   });
      // });

      // function getData(dataId) {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       console.log("data", dataId);
      //       resolve("Succes");
      //       // reject("create some problem")
      //     }, 2000);
      //   });
      // }
      // getData(1).then((res) => {
      //   console.log(res);
      //   getData(2).then((res)=>{
      //     console.log(res);
      //   })
      // });
      //actual promise cahining
      // getData(1)
      //   .then((res) => {
      //     return getData(2);
      //   })
      //   .then((res) => {
      //     return getData(3);
      //   })
      //   .then((res) => {
      //     console.log(res); //may be correct
      //     return getData(4);
      //   })
      //   .then((res) => {
      //     console.log(res);
      //   }); //asko ham actual chaning kehty ha

      //async await(async function always returns a promise)
      //await pauses the exeuctionof its surunding asynic function until the promise is settled
      // function api() {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       console.log("wather data_1");
      //       resolve(200);
      //       // reject()
      //     }, 2000);
      //   });
      // }
      // async function getWeatherData() {
      //   await api();//1st call
      //   await api();//2nd call
      //   await api();//3rd calll
      // }
      // console.log(getWeatherData());

      // function getData(dataId) {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       console.log("data", dataId);
      //       resolve("Succes");
      //       // reject("create some problem")
      //     }, 2000);
      //   });
      // }
      // async function getAllData() {
      //   //await ko ham asi ni use kar sakhty await ko ham async function ki andr he use karna hota ha
      //   await getData(1);
      //   await getData(2);
      //   await getData(3);
      // }
      // console.log(getAllData()); //asko ham ak bar call kart ha ye unnecesary call hoty ha as ka bachany ka be tarreeka be hota ha
      //async await ko ham zadha use karty ha aor ye better tareeka ha aor
      //jahn ye use hota ha whn .then .catch ni use hota jahn ye use hota ha whn async wait use ni hota

      //IIFE(immediately invoked function expression)
      //iife is a function that is called immediately as soon as it is defined
      //iife ka nam ni hota wo ak bar lakhy jatty ha jahn likhty ha whni exciute ho jatty ha assko ham excute kely call ni karty

      // (function () { //function and sath me he calll
      //   //....
      // })();

      // (() => {
      //   //....
      // })();

      // (async () => {
      //   //...
      // })();

      // (async function () {
      //   //await ko ham asi ni use kar sakhty await ko ham async function ki andr he use karna hota ha
      //   await getData(1);
      //   await getData(2);
      //   await getData(3);
      // })(); //auto he call hoga and excute hoga asko ham dobra ni

      //fetch API(application programing interface) fetch means kasi chez ko le kar anna ya bajhana
      //the fetch api provides an interface for fetching(sending/reciving)resources
      //it uses request and response objects
      //the fetch() method is used to fetch a resource(data)
      // let promise = fetch(url, [options]) //return promise

      const URL = "https://cat-fact.herokuapp.com/facts";
      const factPara = document.querySelector("#fact");
      const btn = document.querySelector("#btn");
      //async await method
      // const getFacts = async () => {
      //   let response = await fetch(URL); //jab be ham as methd ko use karty ha as me ham ne option ni bajha to ye ak perticuler request baajhta ha wo get he request hoti ha
      //   // console.log(response.status); //stats 200 mtlb sab kucb thek ha
      //   console.log(response);
      //   let data = await response.json();
      //   // console.log(data[0].text);
      //   factPara.innerText = data[0].text;
      // };
      // console.log(getFacts());
      // btn.addEventListener("click", getFacts);
      
      //promise chaning method
      // function getFacts() {
      //   fetch(URL)
      //     .then((response) => {
      //       return response.json();
      //     })
      //     .then((data) => {
      //       console.log(data);
      //       factPara.innerText = data[0].text;
      //     });
      // }
      // // console.log(getFacts());
      // btn.addEventListener("click", getFacts);

      //understanding terms
      //AJAX is asynchronous JS & XML phe zamani me data xml formate me aata tha
      //JSON is javascript object notation ab jattaa ha object formate me
      //jason() method returns a second promise that resolves with the result of paarsing the responsse body text as JSON.
      //(input us json, output is JS object)

      //request and response
      //https(hyper text transfer protocoal)

    </script>
  </body>
</html>
